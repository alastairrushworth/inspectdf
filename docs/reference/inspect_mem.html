<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Summary and comparison of memory usage of dataframe columns — inspect_mem • inspectdf</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Summary and comparison of memory usage of dataframe columns — inspect_mem"><meta property="og:description" content="For a single dataframe, summarise the memory usage in each column. 
If two dataframes are supplied, compare memory usage for columns appearing 
in both dataframes.  For grouped dataframes, summarise the memory usage separately 
for each group."><meta property="og:image" content="/logo.png"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">inspectdf</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.0.12</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/pkgdown/inspect_cat_examples.html">Exploring and visualising categorical features</a>
    </li>
    <li>
      <a href="../articles/pkgdown/inspect_cor_exampes.html">Correlation diagnostics for numeric columns</a>
    </li>
    <li>
      <a href="../articles/pkgdown/inspect_imb_examples.html">Feature imbalance for categorical columns</a>
    </li>
    <li>
      <a href="../articles/pkgdown/inspect_mem_examples.html">Memory usage of dataframe columns</a>
    </li>
    <li>
      <a href="../articles/pkgdown/inspect_na_examples.html">Missingness and counting NAs</a>
    </li>
    <li>
      <a href="../articles/pkgdown/inspect_num_examples.html">Numeric column summaries and visualisations</a>
    </li>
    <li>
      <a href="../articles/pkgdown/inspect_types_examples.html">Exploring dataframe column types</a>
    </li>
  </ul></li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/alastairrushworth/inspectdf/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Summary and comparison of memory usage of dataframe columns</h1>
    <small class="dont-index">Source: <a href="https://github.com/alastairrushworth/inspectdf/blob/HEAD/R/inspect_mem.R" class="external-link"><code>R/inspect_mem.R</code></a></small>
    <div class="hidden name"><code>inspect_mem.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>For a single dataframe, summarise the memory usage in each column. 
If two dataframes are supplied, compare memory usage for columns appearing 
in both dataframes.  For grouped dataframes, summarise the memory usage separately 
for each group.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">inspect_mem</span><span class="op">(</span><span class="va">df1</span>, df2 <span class="op">=</span> <span class="cn">NULL</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>df1</dt>
<dd><p>A data frame.</p></dd>


<dt>df2</dt>
<dd><p>An optional second data frame with which to comparing memory usage.
Defaults to <code>NULL</code>.</p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    

<p>A tibble summarising and comparing the columnwise memory usage 
for one or a pair of data frames.</p>
    </div>
    <div id="details">
    <h2>Details</h2>
    <p>For a <strong>single dataframe</strong>, the tibble returned contains the columns: <br></p><ul><li><p><code>col_name</code>, a character vector containing column names of <code>df1</code>.</p></li>
<li><p><code>bytes</code>, integer vector containing the number of bytes in each column of <code>df1</code>.</p></li>
<li><p><code>size</code>, a character vector containing display-friendly memory usage of each column.</p></li>
<li><p><code>pcnt</code>, the percentage of the dataframe's total memory footprint 
  used by each column.</p></li>
</ul><p>For a <strong>pair of dataframes</strong>, the tibble returned contains the columns: <br></p><ul><li><p><code>col_name</code>, a character vector containing column names of <code>df1</code>
  and <code>df2</code>.</p></li>
<li><p><code>size_1</code>, <code>size_2</code>, a character vector containing memory usage of each column in
  each of <code>df1</code> and <code>df2</code>.</p></li>
<li><p><code>pcnt_1</code>, <code>pcnt_2</code>, the percentage of total memory usage of each column within 
  each of <code>df1</code> and <code>df2</code>.</p></li>
</ul><p>For a <strong>grouped dataframe</strong>, the tibble returned is as for a single dataframe, but where 
the first <code>k</code> columns are the grouping columns.  There will be as many rows in the result 
as there are unique combinations of the grouping variables.</p>
    </div>
    <div id="see-also">
    <h2>See also</h2>
    <div class="dont-index"><p><code><a href="show_plot.html">show_plot</a></code></p></div>
    </div>
    <div id="author">
    <h2>Author</h2>
    <p>Alastair Rushworth</p>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># Load dplyr for tdf data &amp; pipe</span></span></span>
<span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://dplyr.tidyverse.org" class="external-link">dplyr</a></span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Single dataframe summary</span></span></span>
<span class="r-in"><span><span class="fu">inspect_mem</span><span class="op">(</span><span class="va">tdf</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># A tibble: 14 × 4</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    col_name   bytes size        pcnt</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>      <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>      <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 1</span> films      <span style="text-decoration: underline;">20</span>008 19.54 Kb  35.9  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 2</span> starships   <span style="text-decoration: underline;">7</span>448 7.27 Kb   13.4  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 3</span> name        <span style="text-decoration: underline;">6</span>280 6.13 Kb   11.3  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 4</span> vehicles    <span style="text-decoration: underline;">5</span>944 5.8 Kb    10.7  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 5</span> homeworld   <span style="text-decoration: underline;">3</span>608 3.52 Kb    6.48 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 6</span> species     <span style="text-decoration: underline;">2</span>952 2.88 Kb    5.30 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 7</span> skin_color  <span style="text-decoration: underline;">2</span>656 2.59 Kb    4.77 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 8</span> eye_color   <span style="text-decoration: underline;">1</span>608 1.57 Kb    2.89 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 9</span> hair_color  <span style="text-decoration: underline;">1</span>440 1.41 Kb    2.59 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">10</span> sex          976 976 bytes  1.75 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">11</span> gender       872 872 bytes  1.57 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">12</span> mass         744 744 bytes  1.34 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">13</span> birth_year   744 744 bytes  1.34 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">14</span> height       400 400 bytes  0.718</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Paired dataframe comparison</span></span></span>
<span class="r-in"><span><span class="fu">inspect_mem</span><span class="op">(</span><span class="va">tdf</span>, <span class="va">tdf</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">20</span>, <span class="op">]</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># A tibble: 14 × 5</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    col_name   size_1    size_2    pcnt_1 pcnt_2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>      <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>      <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 1</span> films      19.54 Kb  7.23 Kb   35.9   40.5  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 2</span> starships  7.27 Kb   2.58 Kb   13.4   14.4  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 3</span> name       6.13 Kb   1.49 Kb   11.3    8.35 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 4</span> vehicles   5.8 Kb    1.74 Kb   10.7    9.75 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 5</span> homeworld  3.52 Kb   816 bytes  6.48   4.46 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 6</span> species    2.88 Kb   552 bytes  5.30   3.02 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 7</span> skin_color 2.59 Kb   808 bytes  4.77   4.41 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 8</span> eye_color  1.57 Kb   664 bytes  2.89   3.63 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 9</span> hair_color 1.41 Kb   736 bytes  2.59   4.02 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">10</span> sex        976 bytes 440 bytes  1.75   2.40 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">11</span> gender     872 bytes 336 bytes  1.57   1.84 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">12</span> mass       744 bytes 208 bytes  1.34   1.14 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">13</span> birth_year 744 bytes 208 bytes  1.34   1.14 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">14</span> height     400 bytes 176 bytes  0.718  0.962</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Grouped dataframe summary</span></span></span>
<span class="r-in"><span><span class="va">tdf</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html" class="external-link">group_by</a></span><span class="op">(</span><span class="va">gender</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> <span class="fu">inspect_mem</span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># A tibble: 39 × 5</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># Groups:   gender [3]</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    gender   col_name   bytes size       pcnt</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>      <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 1</span> feminine films       <span style="text-decoration: underline;">3</span>816 3.73 Kb   33.0 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 2</span> feminine starships   <span style="text-decoration: underline;">1</span>256 1.23 Kb   10.9 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 3</span> feminine name        <span style="text-decoration: underline;">1</span>248 1.22 Kb   10.8 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 4</span> feminine vehicles    <span style="text-decoration: underline;">1</span>176 1.15 Kb   10.2 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 5</span> feminine homeworld    776 776 bytes  6.71</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 6</span> feminine skin_color   744 744 bytes  6.43</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 7</span> feminine species      664 664 bytes  5.74</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 8</span> feminine eye_color    528 528 bytes  4.56</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 9</span> feminine hair_color   520 520 bytes  4.50</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">10</span> feminine sex          296 296 bytes  2.56</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># … with 29 more rows</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># ℹ Use `print(n = ...)` to see more rows</span></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Alastair Rushworth.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.6.</p>
</div>

      </footer></div>

  


  

  </body></html>

