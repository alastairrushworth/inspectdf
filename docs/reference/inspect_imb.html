<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Summary and comparison of the most common levels in categorical columns — inspect_imb • inspectdf</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Summary and comparison of the most common levels in categorical columns — inspect_imb"><meta property="og:description" content="For a single dataframe, summarise the most common level in each 
categorical column. If two dataframes are supplied, compare the most common 
levels of categorical features appearing in both dataframes.  For grouped 
dataframes, summarise the levels of categorical columns in the dataframe
split by group."><meta property="og:image" content="/logo.png"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">inspectdf</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.0.12</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/pkgdown/inspect_cat_examples.html">Exploring and visualising categorical features</a>
    </li>
    <li>
      <a href="../articles/pkgdown/inspect_cor_exampes.html">Correlation diagnostics for numeric columns</a>
    </li>
    <li>
      <a href="../articles/pkgdown/inspect_imb_examples.html">Feature imbalance for categorical columns</a>
    </li>
    <li>
      <a href="../articles/pkgdown/inspect_mem_examples.html">Memory usage of dataframe columns</a>
    </li>
    <li>
      <a href="../articles/pkgdown/inspect_na_examples.html">Missingness and counting NAs</a>
    </li>
    <li>
      <a href="../articles/pkgdown/inspect_num_examples.html">Numeric column summaries and visualisations</a>
    </li>
    <li>
      <a href="../articles/pkgdown/inspect_types_examples.html">Exploring dataframe column types</a>
    </li>
  </ul></li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/alastairrushworth/inspectdf/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Summary and comparison of the most common levels in categorical columns</h1>
    <small class="dont-index">Source: <a href="https://github.com/alastairrushworth/inspectdf/blob/HEAD/R/inspect_imb.R" class="external-link"><code>R/inspect_imb.R</code></a></small>
    <div class="hidden name"><code>inspect_imb.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>For a single dataframe, summarise the most common level in each 
categorical column. If two dataframes are supplied, compare the most common 
levels of categorical features appearing in both dataframes.  For grouped 
dataframes, summarise the levels of categorical columns in the dataframe
split by group.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">inspect_imb</span><span class="op">(</span><span class="va">df1</span>, df2 <span class="op">=</span> <span class="cn">NULL</span>, include_na <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>df1</dt>
<dd><p>A dataframe.</p></dd>


<dt>df2</dt>
<dd><p>An optional second data frame for comparing columnwise imbalance.
Defaults to <code>NULL</code>.</p></dd>


<dt>include_na</dt>
<dd><p>Logical flag, whether to include missing values as a unique level.  Default
is <code>FALSE</code> - to ignore <code>NA</code> values.</p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    

<p>A tibble summarising and comparing the imbalance for each categorical column 
in one or a pair of dataframes.</p>
    </div>
    <div id="details">
    <h2>Details</h2>
    <p>For a <strong>single dataframe</strong>, the tibble returned contains the columns: <br></p><ul><li><p><code>col_name</code>, a character vector containing column names of <code>df1</code>.</p></li>
<li><p><code>value</code>, a character vector containing the most common categorical level 
  in each column of <code>df1</code>.</p></li>
<li><p><code>pcnt</code>, the relative frequency of each column's most common categorical level 
  expressed as a percentage.</p></li>
<li><p><code>cnt</code>, the number of occurrences of the most common categorical level in each
  column of <code>df1</code>.</p></li>
</ul><p>For a <strong>pair of dataframes</strong>, the tibble returned contains the columns: <br></p><ul><li><p><code>col_name</code>, a character vector containing names of the unique columns in <code>df1</code> 
  and <code>df2</code>.</p></li>
<li><p><code>value</code>, a character vector containing the most common categorical level 
  in each column of <code>df1</code>.</p></li>
<li><p><code>pcnt_1</code>, <code>pcnt_2</code>, the percentage occurrence of <code>value</code> in 
  the column <code>col_name</code> for each of <code>df1</code> and <code>df2</code>, respectively.</p></li>
<li><p><code>cnt_1</code>, <code>cnt_2</code>, the number of occurrences of of <code>value</code> in 
  the column <code>col_name</code> for each of <code>df1</code> and <code>df2</code>, respectively.</p></li>
<li><p><code>p_value</code>, p-value associated with the null hypothesis that the true rate of 
  occurrence is the same for both dataframes.  Small values indicate stronger evidence of a difference
  in the rate of occurrence.</p></li>
</ul><p>For a <strong>grouped dataframe</strong>, the tibble returned is as for a single dataframe, but where 
the first <code>k</code> columns are the grouping columns.  There will be as many rows in the result 
as there are unique combinations of the grouping variables.</p>
    </div>
    <div id="see-also">
    <h2>See also</h2>
    <div class="dont-index"><p><code><a href="inspect_cat.html">inspect_cat</a></code>, <code><a href="show_plot.html">show_plot</a></code></p></div>
    </div>
    <div id="author">
    <h2>Author</h2>
    <p>Alastair Rushworth</p>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># Load dplyr for tdf data &amp; pipe</span></span></span>
<span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://dplyr.tidyverse.org" class="external-link">dplyr</a></span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Single dataframe summary</span></span></span>
<span class="r-in"><span><span class="fu">inspect_imb</span><span class="op">(</span><span class="va">tdf</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># A tibble: 8 × 4</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   col_name   value      pcnt   cnt</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>      <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;int&gt;</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">1</span> gender     masculine 75.9     66</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">2</span> sex        male      69.0     60</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">3</span> hair_color none      42.5     37</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">4</span> species    Human     40.2     35</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">5</span> eye_color  brown     24.1     21</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">6</span> skin_color fair      19.5     17</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">7</span> homeworld  Naboo     12.6     11</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">8</span> name       Ackbar     1.15     1</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Paired dataframe comparison</span></span></span>
<span class="r-in"><span><span class="fu">inspect_imb</span><span class="op">(</span><span class="va">tdf</span>, <span class="va">tdf</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">20</span>, <span class="op">]</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># A tibble: 8 × 7</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   col_name   value     pcnt_1 cnt_1 pcnt_2 cnt_2 p_value</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>      <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>      <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;int&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;int&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">1</span> gender     masculine  75.9     66     90    18  0.277 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">2</span> sex        male       69.0     60     70    14  1.00  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">3</span> hair_color none       42.5     37     <span style="color: #BB0000;">NA</span>    <span style="color: #BB0000;">NA</span> <span style="color: #BB0000;">NA</span>     </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">4</span> species    Human      40.2     35     65    13  0.078<span style="text-decoration: underline;">6</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">5</span> eye_color  brown      24.1     21     <span style="color: #BB0000;">NA</span>    <span style="color: #BB0000;">NA</span> <span style="color: #BB0000;">NA</span>     </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">6</span> skin_color fair       19.5     17     35     7  0.231 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">7</span> homeworld  Naboo      12.6     11     <span style="color: #BB0000;">NA</span>    <span style="color: #BB0000;">NA</span> <span style="color: #BB0000;">NA</span>     </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">8</span> name       Ackbar      1.15     1     <span style="color: #BB0000;">NA</span>    <span style="color: #BB0000;">NA</span> <span style="color: #BB0000;">NA</span>     </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Grouped dataframe summary</span></span></span>
<span class="r-in"><span><span class="va">tdf</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html" class="external-link">group_by</a></span><span class="op">(</span><span class="va">gender</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> <span class="fu">inspect_imb</span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># A tibble: 21 × 5</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># Groups:   gender [3]</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    gender    col_name   value       pcnt   cnt</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>      <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>      <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;int&gt;</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 1</span> feminine  sex        female     94.1     16</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 2</span> feminine  species    Human      52.9      9</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 3</span> feminine  hair_color brown      35.3      6</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 4</span> feminine  skin_color light      35.3      6</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 5</span> feminine  eye_color  blue       35.3      6</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 6</span> feminine  homeworld  Naboo      17.6      3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 7</span> feminine  name       Adi Gallia  5.88     1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 8</span> masculine sex        male       90.9     60</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 9</span> masculine hair_color none       47.0     31</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">10</span> masculine species    Human      39.4     26</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># … with 11 more rows</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># ℹ Use `print(n = ...)` to see more rows</span></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Alastair Rushworth.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.6.</p>
</div>

      </footer></div>

  


  

  </body></html>

